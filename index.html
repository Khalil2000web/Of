<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Khalil</title>
<meta name="description" content="Khalil's Official Website">
<link rel="icon" href="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/static/media/head/favicon.jpeg">
<meta name="URL" content="http://www.khaliiil.com">
<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="Khalil's Official Website">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/static/media/head/ogimage.JPEG">
<meta property="og:title" content="Khalil">
<meta property="og:description" content="Khalil's Official Website">
<meta property="og:image" content="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/static/media/head/ogimage.JPEG">
<meta property="og:site_name" content="Khalil">
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.khaliiil.com/">
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<meta name="copyright" content="2025">
<style>:root {--primary-color:#fff;--secondary-color:#ccc;--accent-color:#ddd;--background-color:#000;--light-background-color:#ffffff;--dark-background-color:#333333;--text-color:#fff;--light-text-color:#666;--heading-color:#111;--border-color:#ccc;--light-border-color:#eaeaea;--button-text-color:#fff;--button-hover-bg:#2980b9;--font-size-base:16px;--font-size-small:0.875rem;--font-size-medium:1rem;--font-size-large:1.25rem;--font-size-xlarge:2rem;--font-size-xxlarge:3rem;--font-family-sans:'Arial',sans-serif;--font-family-serif:'Georgia',serif;--font-family-mono:'Courier New',monospace;--font-family-display:'Poppins',sans-serif;--font-main:'BB Manual Mono Regular',Arial,sans-serif;--font-main-bold:'BB Manual Mono SemiBold','BB Manual Mono Regular',Arial,sans-serif;--font-weight-light:300;--font-weight-normal:400;--font-weight-bold:700;--font-weight-black:900;--line-height-normal:1.5;--line-height-heading:1.2;--spacing-xs:4px;--spacing-sm:8px;--spacing-md:16px;--spacing-lg:24px;--spacing-xl:32px;--spacing-xxl:48px;--padding:20px;--margin:20px;--border-width-thin:1px;--border-width-thick:2px;--border-radius-small:4px;--border-radius-medium:8px;--border-radius-large:16px;--box-shadow-light:0 2px 4px rgba(0,0,0,0.1);--box-shadow-medium:0 4px 8px rgba(0,0,0,0.2);--box-shadow-large:0 8px 16px rgba(0,0,0,0.3);--animation-duration-short:0.2s;--animation-duration-medium:0.5s;--animation-duration-long:1s;--animation-ease-in-out:cubic-bezier(0.42,0,0.58,1);--animation-bounce:ease-in-out 1.5s infinite bounce;--transition-duration-short:0.2s;--transition-duration-medium:0.5s;--transition-duration-long:1s;--transition-ease:ease;--transition-ease-in-out:ease-in-out;--z-index-low:1;--z-index-medium:10;--z-index-high:100;--z-index-max:1000;--grid-columns:12;--grid-gap:16px;--width-max:1200px;--width-container:90%;--width-sidebar:250px;--width-content:75%;--height-header:80px;--height-footer:100px;--breakpoint-xs:480px;--breakpoint-sm:768px;--breakpoint-md:1024px;--breakpoint-lg:1200px;--breakpoint-xl:1440px;--button-padding:12px 24px;--button-border-radius:8px;--button-bg:var(--primary-color);--button-hover-bg:var(--button-hover-bg);--button-disabled-bg:#95a5a6;--button-font-size:var(--font-size-medium);--input-padding:10px 15px;--input-border-radius:var(--border-radius-small);--input-border:var(--border-width-thin) solid var(--border-color);--input-focus-border-color:var(--primary-color);--icon-size-small:16px;--icon-size-medium:24px;--icon-size-large:32px;--list-padding:var(--spacing-md);--list-item-margin-bottom:var(--spacing-xs);--overlay-bg-color:rgba(0,0,0,0.7);--modal-padding:var(--spacing-lg);--modal-width:90%;--modal-max-width:500px;--modal-border-radius:var(--border-radius-medium);--tooltip-bg-color:var(--accent-color);--tooltip-text-color:#fff;--tooltip-font-size:var(--font-size-small);--tooltip-padding:5px 10px;--scrollbar-width:10px;--scrollbar-track-color:#f0f0f0;--scrollbar-thumb-color:var(--primary-color);--link-color:var(--primary-color);--link-hover-color:var(--secondary-color);--link-decoration:none;--link-hover-decoration:underline;--table-border-color:var(--border-color);--table-padding:var(--spacing-sm);--table-striped-bg:#f9f9f9;--container-max-width:1200px;--header-height:70px;--footer-height:100px;--card-padding:var(--spacing-md);--card-border-radius:var(--border-radius-medium);}</style>
<style>@font-face {font-family: 'BB Manual Mono Regular';src: url('/system/fonts/BBManualMonoProTX.22d272fc.ttf');}@font-face {font-family: 'BB Manual Mono SemiBold';src: url('/system/fonts/BBManualMonoProTX-SemiBold.otf');}</style>
<style>body,html {background-color:var(--background-color);font-family:var(--font-main);color:var(--text-color);}.sound-icon{position:absolute;bottom:27px;right:27px;cursor:pointer;z-index:10;user-select:none;-webkit-user-select: none;width:16px;max-width:16px;}.sound-icon img {user-select: none;-webkit-user-drag: none;-webkit-user-select: none;}button {touch-action: manipulation;}.play-btn,.spinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5;user-select: none;-webkit-user-select: none;display: none;}.play-btn{width:100px;height:100px;border-radius:50%;background:url('https://khaliiil.com/static/media/undefined.svg') no-repeat center;background-size:contain;cursor:pointer;border: 2px solid #95a5a6;}.spinner {width: 56px;height: 56px;border-radius: 50%;border: 9px solid #4682B4;opacity:0.8;animation: spinner-bulqg1 0.8s infinite linear alternate, spinner-oaa3wk 1.6s infinite linear;margin: -30px 0 0 -30px;}@keyframes spinner-bulqg1 {0% {clip-path: polygon(50% 50%, 0 0, 50% 0%, 50% 0%, 50% 0%, 50% 0%, 50% 0%);}12.5% {clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 0%, 100% 0%, 100% 0%);}25% {clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 100% 100%, 100% 100%);}50% {clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%);}62.5% {clip-path: polygon(50% 50%, 100% 0, 100% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%);}75% {clip-path: polygon(50% 50%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 50% 100%, 0% 100%);}100% {clip-path: polygon(50% 50%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 0% 100%);}}@keyframes spinner-oaa3wk {0% {transform: scaleY(1) rotate(0deg);}49.99% {transform: scaleY(1) rotate(135deg);}50% {transform: scaleY(-1) rotate(0deg);}100% {transform: scaleY(-1) rotate(-135deg);}}.image {pointer-events: none;display: block;width:100%;max-width: 100%;user-select: none;-webkit-user-select: none;}.error-message {position: absolute;top:0;left:0;width:100%;height:100%;z-index:20;background: #151b17;font-family:Arial;display: none;}.media {position:relative;width:100%;max-width:100%;}.media video {max-width: 100%;}.media-grid {position:fixed;width:100%;max-width:100%;max-height:100%;height:100%;padding:0;margin:0;overflow:auto;display:flex;flex-direction:column;gap:0;left:50%;transform:translateX(-50%);}video {width:100%;max-width: 100%;height:auto;background-color:#151b17;}.overlay {display: none;position: fixed;top: 0;left: 0;width: 100%;height: 100vh;background-color: rgba(0, 0, 0, 1);z-index: 10000;overflow: auto;overscroll-behavior: none;scrollbar-width: none;touch-action: pan-x pan-y;}.overlay::-webkit-scrollbar {display: none;}.overlay-content {position:absolute;width: 100%;max-width: 100%;height:auto;top: 0;left: 0;padding: 0;margin: 0;z-index: 1000;touch-action: pan-x pan-y;overscroll-behavior:none;}.overlay-content .media {width: 100%;max-width: 100%;height: auto;}@media screen and (min-width:40em){.overlay-content .media{margin-bottom:150px;}}.overlay-content .media a {display:block;pointer-events:all;}.close-btn {position: absolute;top:10px;right:10px;border-radius: 5px;z-index: 10001;background: none;border:2px solid rgba(255, 255, 255, 0.6);}.close-btn {width:35px;color:#fff;padding:0;border-radius:8px;}.prev-btn, .next-btn {visibility: hidden;position: absolute;justify-content:center;align-items:center;}button:active {background:rgba(0,0,0,0.4);}button{padding:0;margin:0;}.prev-btn,.next-btn {background:none;border:none;border-radius:0;padding:2px 8px;margin:0;}.navb {color:white;width:35px;}.prev-btn {top:28px;left:50px;z-index:10005;border:3px solid rgba(39, 92, 134, 0.5);}.next-btn {top:28px;right:50px;z-index:10005;border:3px solid rgba(39, 92, 134, 0.5);}.overlay.opening {display: flex;width: 98%;height: 98%;top: 50%;left: 50%;transform: translate(-50%,-50%);opacity:0.9;}.overlay.fullscreen {width: 100%;height: 100%;top: 50%;left: 50%;transform: translate(-50%, -50%);opacity:1;}.overlay.closing {width: 95%;height: 95%;top: 50%;left: 50%;transform: translate(-50%, -50%);opacity:0.2;}.hidden_in_gallery {display: none;}.overlay .hidden_in_gallery {display: block;}iframe {width:100%;height:350px;border:none;}@media screen and (min-width:48em) {iframe {height:900px;}}.media a {color:transparent;text-decoration: none;width: 100%;padding:0;margin:0;display:block;z-index:10;}</style>
<style>.menutop {position: fixed;top:25px;left:50%;transform: translateX(-50%);width:100%;max-width:90%;display: flex;margin:0;padding:0;align-items: center;justify-content: space-around;z-index: var(--z-index-max);}.menutop a {color: var(--text-color);text-decoration: none;user-select: none;-webkit-user-select: none;font-size:22px;cursor: pointer;} </style>
<style>.menufooter {position: fixed;bottom: 0;left: 50%;transform: translateX(-50%);width:100%;max-width:90%;display: flex;align-items: end;justify-content: space-around;margin:0;padding:0;z-index: var(--z-index-max);}.menufooter a {color: var(--text-color);text-decoration: none;font-size:15px;padding:0 10px;margin: 0;padding-bottom:20px;user-select:none;-webkit-user-select:none;cursor: pointer;}.menufooter p {padding:0 10px;margin:0;padding-bottom:20px;font-size:15px;} @media screen and (min-width:45em) {.menufooter a {font-size: 14px;}.menutop {max-width: 60%;}.menutop a {font-size: 20px;}} </style>
</head>
<body>
<div class="menutop"><a href="https://tour.khaliiil.com/">TOUR</a><a href="/">MUSIC</a><a href="/crt">CRT</a></div>
<div class="menufooter"><a href="/terms-conditions">TERMS</a><p>&copy; 2025</p><a href="/privacy-policy">PRIVACY</a></div>

<div class="media-grid">
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://github.com/Khalil2000web/Media/raw/refs/heads/main/Home/IMG_2135.jpeg" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://github.com/Khalil2000web/Media/raw/refs/heads/main/Home/IMG_2119.jpeg" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://github.com/Khalil2000web/Media/raw/refs/heads/main/Home/jdkfne83hdywmslqvo.heic" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://github.com/Khalil2000web/Media/raw/refs/heads/main/Home/IMG_1881.jpeg" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://github.com/Khalil2000web/Media/raw/refs/heads/main/Home/pwlqnd59vbxmctueha.HEIC" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home/355F0843-EC33-4FDE-8DF3-05FAA45A90DE.jpeg" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home/IMG_1497.jpeg" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home/IMG_1541.jpeg" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home/IMG_1552.jpeg" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><iframe src="https://www.youtube.com/embed/uEyGYjlzbA0?autoplay=1&mute=1"></iframe></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home/8f3a92b7c6d14e5fa0d1b9e283f74c5a.jpeg" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;"><img src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home/IMG_1480.jpeg" alt="Image" title="image:_" loading="lazy" decoding="async" class="image"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;width:100%;"><img class="image" loading="lazy" alt="Image" title="image:_00" decoding="async" style="color: transparent; width: 100%; height: auto; pointer-events: none;" src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home-page-media/Hzrrhebkconwbnjdg.HEIC"></div></a></div>
<div class="media"><iframe src="https://www.youtube.com/embed/zGzS5jMHPVs?autoplay=1&mute=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;width:100%;"><img class="image" loading="lazy" alt="Image" title="image:_00" decoding="async" style="color: transparent; width: 100%; height: auto; pointer-events: none;" src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home-page-media/IMG_3072.jpeg"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;width:100%;"><img class="image" loading="lazy" alt="Image" title="image:_00" decoding="async" style="color: transparent; width: 100%; height: auto; pointer-events: none;" src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home-page-media/IMG_3074.jpeg"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;width:100%;"><img class="image" loading="lazy" alt="Image" title="image:_00" decoding="async" style="color: transparent; width: 100%; height: auto; pointer-events: none;" src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home-page-media/IMG_3073.jpeg"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;width:100%;"><img class="image" loading="lazy" alt="Image" title="image:_00" decoding="async" style="color: transparent; width: 100%; height: auto; pointer-events: none;" src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home-page-media/IMG_2256.jpeg"></div></a></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;width:100%;"><img class="image" loading="lazy" alt="Image" title="image:_00" decoding="async" style="color: transparent; width: 100%; height: auto; pointer-events: none;" src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home-page-media/IMG_2493.jpeg"></div></a></div>
<div class="mcb2hm"><a href="https://tour.khaliiil.com" rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;width:100%;"><img id="sh" class="image" loading="lazy" alt="Image" title="image:TOUR2024WORLDWIDE_00" decoding="async" style="color: transparent; width: 100%; height: auto; pointer-events: none;" src="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home/GMP_U2F2ZUdIMDE%3D.gif"></div></a></div>
<div class="media"><video src="https://ik.imagekit.io/xlretjwgk/Video_bday-videohomepagevideo20248920242992024.mov" poster="https://raw.githubusercontent.com/Khalil2000web/Media/refs/heads/main/Home_media_image_gallery/IMG_1228.jpeg" alt="Video" id="D03JDFX0O3_BDAY" controlsList="nofullscreen" autoplay loop muted playsinline></video><img src="/static/media/icon-mute.svg" class="sound-icon sound-off-icon" alt="Toggle Sound"><img src="/static/media/icon-volume.svg" style="display:none;" class="sound-icon sound-on-icon" alt="unmute"><div class="play-btn"></div><div class="spinner"></div><div class="error-message" style="display: none;"></div></div>
<div class="media"><video src="https://github.com/Khalil2000web/Media/raw/refs/heads/main/Home/Video_homePage_2024Renaissancefilm.mov" alt="Video" id="video:202435gccf_RENAISSANCE_FILM" controlsList="nofullscreen" autoplay loop muted playsinline></video><img src="/static/media/icon-mute.svg" class="sound-icon sound-off-icon" style="width:16px;" alt="Toggle Sound"><img src="/static/media/icon-volume.svg" style="display:none;max-width: 16px;" class="sound-icon sound-on-icon" alt="unmute"><div class="play-btn"></div><div class="spinner"></div><div class="error-message" style="display: none;"></div></div>
<div class="media"><a rel="noopener noreferrer" style="cursor: pointer;"><div style="pointer-events: none;width:100%;"><img class="image" loading="lazy" alt="Image" title="image:000" decoding="async" style="color: transparent; width: 100%; height: auto; pointer-events: none;" src="https://raw.githubusercontent.com/Dibacarter/Media/main/Home_media_image_gallery/5a67e1ae-0c7b-494c-8440-3eb7d7f35ac9.jpeg"></div></a></div>
</div>
<div id="overlay" class="overlay"><div id="overlay-content" class="overlay-content"></div><button id="close-btn" class="close-btn"><svg viewBox="0 0 25 22" aria-hidden="true" class="close-overlay"><path fill="white" d="M19 6 6 19M6 6l13 13" stroke="white" stroke-width="2.2" stroke-linecap="round"></path></svg></button><button id="next-btn" class="next-btn"><svg viewBox="-2 0 24 24" aria-hidden="true" class="navb" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M6 4l8 8-8 8" stroke="white" stroke-width="3" stroke-linejoin="miter"></path></svg></button><button id="prev-btn" class="prev-btn"><svg viewBox="2 0 24 24" aria-hidden="true" class="navb" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M18 4l-8 8 8 8" stroke="white" stroke-width="3" stroke-linejoin="miter"></path></svg></button></div>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const mediaElements = document.querySelectorAll(".media");
  const overlay = document.querySelector(".overlay");
  const overlayContent = document.querySelector(".overlay-content");
  const closeButton = document.querySelector(".close-btn");
  const prevButton = document.querySelector(".prev-btn");
  const nextButton = document.querySelector(".next-btn");
  const mediaGrid = document.querySelector(".media-grid");

  let currentIndex = 0;
  let currentOverlayVideo = null;

  function disableScroll() {
    document.body.classList.add("no-scroll");
    document.body.style.overflow = "hidden";
    mediaGrid.style.touchAction = "none";
    mediaGrid.style.webkitTouchAction = "none";
  }

  function enableScroll() {
    document.body.classList.remove("no-scroll");
    document.body.style.overflow = "";
    document.body.style.touchAction = "";
    mediaGrid.style.webkitTouchAction = "";
    mediaGrid.style.touchAction = "";
  }

  function checkButtons() {
    prevButton.style.pointerEvents = currentIndex === 0 ? "none" : "";
    nextButton.style.pointerEvents =
      currentIndex === mediaElements.length - 1 ? "none" : "";
  }

  function muteAllVideosExcept(exceptVideo = null) {
    mediaElements.forEach((media) => {
      const video = media.querySelector("video");
      if (video && video !== exceptVideo) {
        video.muted = true;
        media.querySelector(".sound-off-icon")?.style.setProperty("display", "block");
        media.querySelector(".sound-on-icon")?.style.setProperty("display", "none");
      }
    });
  }

  function openOverlay(index) {
    disableScroll();
    muteAllVideosExcept();
    currentIndex = index;
    const clonedMedia = mediaElements[currentIndex].cloneNode(true);
    overlayContent.innerHTML = "";
    overlayContent.appendChild(clonedMedia);
    overlay.style.display = "flex";
    overlay.classList.add("overlay-show", "opening");
    document.body.style.overflow = "hidden";
    document.body.classList.add("overlay-active");

    setTimeout(() => {
      overlay.classList.remove("opening");
      overlay.classList.add("fullscreen");
    }, 140);

    checkButtons();

    const clonedVideo = clonedMedia.querySelector("video");
    const clonedSpinner = clonedMedia.querySelector(".spinner");
    if (clonedVideo) {
      handleVideoErrors(clonedVideo, clonedSpinner);
      clonedVideo.muted = true;
      clonedVideo.play();
      clonedVideo.addEventListener("playing", () =>
        hideSpinner(clonedSpinner)
      );
      clonedVideo.addEventListener("waiting", () => showSpinner(clonedSpinner));
      clonedVideo.addEventListener("stalled", () => showSpinner(clonedSpinner));
      clonedVideo.addEventListener("loadstart", () =>
        showSpinner(clonedSpinner)
      );

      const soundOffIcon = clonedMedia.querySelector(".sound-off-icon");
      const soundOnIcon = clonedMedia.querySelector(".sound-on-icon");

      if (soundOffIcon && soundOnIcon) {
        soundOffIcon.addEventListener("click", () => {
          clonedVideo.muted = false;
          soundOffIcon.style.display = "none";
          soundOnIcon.style.display = "block";
          muteAllVideosExcept(clonedVideo);
        });

        soundOnIcon.addEventListener("click", () => {
          clonedVideo.muted = true;
          soundOffIcon.style.display = "block";
          soundOnIcon.style.display = "none";
        });
      }

      currentOverlayVideo = clonedVideo;
    }
  }

  function closeOverlay() {
    overlay.style.display = "none";
    overlay.classList.remove("fullscreen");
    overlay.classList.add("closing");
    document.body.classList.remove("overlay-active");

    setTimeout(() => {
      overlay.classList.remove("closing");
      overlay.style.display = "none";
    }, 90);

    enableScroll();

    // Mute and reload **only** when closing overlay
    if (currentOverlayVideo) {
      currentOverlayVideo.muted = true;
      currentOverlayVideo.pause();
      currentOverlayVideo.load(); // Reload video on close
      currentOverlayVideo = null;
    }

    // Replay and reload only when overlay is closed
    mediaElements.forEach((media) => {
      const video = media.querySelector("video");
      if (video) {
        video.muted = true;
        video.load();
        video.play();
      }
    });
  }

  closeButton.addEventListener("click", closeOverlay);

  prevButton.addEventListener("click", () => {
    currentIndex = currentIndex === 0 ? mediaElements.length - 1 : currentIndex - 1;
    openOverlay(currentIndex);
    checkButtons();
  });

  nextButton.addEventListener("click", () => {
    currentIndex = currentIndex === mediaElements.length - 1 ? 0 : currentIndex + 1;
    openOverlay(currentIndex);
    checkButtons();
  });

  mediaElements.forEach((media, index) => {
    if (media.querySelector("video")) {
      const video = media.querySelector("video");
      const spinner = media.querySelector(".spinner");
      const soundOffIcon = media.querySelector(".sound-off-icon");
      const soundOnIcon = media.querySelector(".sound-on-icon");

      handleVideoErrors(video, spinner);
      showSpinner(spinner);
      video.muted = true;
      video.play();
      video.addEventListener("playing", () => hideSpinner(spinner));
      video.addEventListener("waiting", () => showSpinner(spinner));
      video.addEventListener("stalled", () => showSpinner(spinner));
      video.addEventListener("loadstart", () => showSpinner(spinner));

      if (soundOffIcon && soundOnIcon) {
        soundOffIcon.addEventListener("click", () => {
          video.muted = false;
          soundOffIcon.style.display = "none";
          soundOnIcon.style.display = "block";
          muteAllVideosExcept(video);
        });

        soundOnIcon.addEventListener("click", () => {
          video.muted = true;
          soundOffIcon.style.display = "block";
          soundOnIcon.style.display = "none";
        });
      }
    }

    media.addEventListener("click", (event) => {
      if (!event.target.classList.contains("sound-off-icon") && !event.target.classList.contains("sound-on-icon")) {
        openOverlay(index);
      }
    });
  });

  function showSpinner(spinner) {
    if (spinner) spinner.style.display = "block";
  }

  function hideSpinner(spinner) {
    if (spinner) spinner.style.display = "none";
  }

  function handleVideoErrors(video, spinner) {
    const errorContainer = document.createElement("div");
    errorContainer.className = "video-error";
    errorContainer.style.cssText = `
      display: none;
      flex-direction: column;
      gap: 20px;
      padding: 0;
      margin:0;
      position: absolute;
      background: #151b17;
      top:0;
      left:0;
      width:100%;
      height:100%;
      max-width:99%;
      max-height:99%;
      border:none;
      color: #fff;
      z-index: 20;
      text-align: left;
    `;

    errorContainer.innerHTML = `
      <h2 style="font-size:20px;font-family:Arial;padding-left:20px;padding-top:20px;">VIDEO COULD NOT LOAD</h2>
      <span style="font-size:12px;font-family:Arial;color:#ccc;padding-left:20px;">
        The video is unavailable. This may be due to a network issue, an unsupported format, or missing permissions.<br><br>
        VIDEO ID: ${video.id || "N/A"}.
      </span>
      <button class="retry-btn" style="cursor:pointer;max-width:150px;font-family:Arial;color:blue;font-weight:900;margin:0 auto;">
        Try Again
      </button>
    `;

    video.parentElement.appendChild(errorContainer);

    video.addEventListener("error", () => {
      hideSpinner(spinner);
      errorContainer.style.display = "flex";
    });

    errorContainer.querySelector(".retry-btn").addEventListener("click", () => {
      errorContainer.style.display = "none";
      showSpinner(spinner);
      video.load();
      video.play();
    });
  }

  window.addEventListener("scroll", muteAllVideosExcept);
});
</script>
<script>document.addEventListener('DOMContentLoaded',()=>{const p=document.getElementById('prev-btn'),n=document.getElementById('next-btn'),c=document.querySelector('.close-btn'),s=b=>b.style.border='3px solid ';if(!localStorage.getItem('buttonClicked'))[p,n].forEach(b=>s(b+'#275c86')),s(c+'#fff');const h=()=>{[p,n,c].forEach(b=>s(b+'transparent')),localStorage.setItem('buttonClicked','true');};[p,n,c].forEach(b=>b.addEventListener('click',h));});</script>
<script>document.addEventListener("copy",e=>{const s=window.getSelection();if(!s.rangeCount)return;const r=s.getRangeAt(0),i=r.commonAncestorContainer.querySelector?.("img");if(i){e.preventDefault();e.clipboardData.setData("text/plain",i.alt||"Image cannot be copied");}});</script>
</body>
</html>